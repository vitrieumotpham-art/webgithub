extends ../../layouts/defaut.pug

block main
  //- CSS xử lý Header Fixed và làm đẹp Profile
  style.
    .profile-wrapper {
      padding-top: 110px; /* Đẩy nội dung xuống dưới Header */
      background-color: #f4f7f6;
      min-height: 100vh;
      padding-bottom: 50px;
    }
    .card.rounded-lg {
      border-radius: 1rem !important;
    }
    .bg-primary {
      background-color: #c5a059 !important; /* Đổi sang màu Gold của PNT DECOR */
    }
    .img-thumbnail {
      border: 4px solid #fff;
    }

  .profile-wrapper
    .container
      .row.justify-content-center
        .col-md-8
          .card.shadow.border-0.rounded-lg
            .card-header.bg-primary.text-white.py-3
              h4.mb-0.text-center.fw-bold THÔNG TIN TÀI KHOẢN
            .card-body.p-4
              .row.align-items-center.mb-4
                .col-md-4.text-center
                  if user.avatar
                    img(src=user.avatar, alt=user.fullName, class="rounded-circle img-thumbnail shadow-sm", style="width: 150px; height: 150px; object-fit: cover;")
                  else
                    img(src="/img/pnt-letter-logo-design-inspiration-260nw-2361378981.jpg", alt="Default Avatar", class="rounded-circle img-thumbnail shadow-sm", style="width: 150px; height: 150px;")
                
                .col-md-8
                  h2.fw-bold.text-dark.mb-2 #{user.fullName}
                  p.text-muted.mb-1
                    i.fa-solid.fa-envelope.me-2
                    | #{user.email}
                  p.text-muted.mb-0
                    i.fa-solid.fa-phone.me-2
                    | #{user.phone || "Chưa cập nhật số điện thoại"}
              
              hr.my-4
              
              .row
                .col-md-6.mb-3
                  label.small.text-uppercase.text-muted.fw-bold Trạng thái tài khoản
                  div.mt-1
                    if user.status === "active"
                      span.badge.bg-success.px-3.py-2 
                        i.fa-solid.fa-check-circle.me-1
                        | Đang hoạt động
                    else
                      span.badge.bg-danger.px-3.py-2 
                        i.fa-solid.fa-lock.me-1
                        | Đang bị khóa
                
                .col-md-6.mb-3
                  label.small.text-uppercase.text-muted.fw-bold Ngày tham gia hệ thống
                  div.text-dark.mt-1.fw-bold
                    i.fa-solid.fa-calendar-day.me-2.text-muted
                    | #{user.createdAt ? user.createdAt.toLocaleDateString('vi-VN') : "---"}
              
              .d-flex.gap-3.mt-4
                a.btn.btn-warning.px-4.fw-bold(href="/user/profile/edit") 
                  i.fa-solid.fa-user-pen.me-2
                  | Cập nhật hồ sơ
                a.btn.btn-outline-dark.px-4(href="/user/password/change")
                  i.fa-solid.fa-key.me-2
                  | Đổi mật khẩu